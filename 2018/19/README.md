This one ended up being a mess.

I hacked up a solution by manually looking at the program and
the registers while it ran and with much effort, manually unrolled a loop.

It's still really dirty and hard to reproduce the correct answer, though..
